<?php
$lang = pll_current_language();

if (get_field('pickup_event_show_event')) :
$event = get_field('pickup_event_info');
$eventTitle = $event['title'];
$eventDesc = $event['description'];
$eventLink = $event['link'];

$size = 'large';
$img = $event['image'];
$imgURL = $img['sizes'][$size];
$width = $img['sizes'][ $size . '-width' ];
$height = $img['sizes'][ $size . '-height' ];
$alt = $img['alt'] ? $img['alt'] : $eventTitle . ' Image';
?>
<div class="home-event-card">
  <div class="home-event-card__img">
    <figure class="aspect-img">
      <img
        src="<?= esc_url($imgURL) ?>"
        alt="<?= esc_attr($alt) ?>"
        width="<?= esc_attr($width) ?>"
        height="<?= esc_attr($height) ?>"
      />
    </figure>
  </div>
  <div class="home-event-card__info">
    <div class="dynamic-title home-event-card__title">
      <h2 class="text-overflow-lines-2">
        <?= esc_html($eventTitle) ?>
      </h2>
    </div>
    <div class="home-event-card__content text-overflow-lines-2">
      <p>
        <?= esc_html($eventDesc) ?>
      </p>
    </div>
    <a class="read-more" href="<?= esc_url($eventLink) ?>" target="_blank">
      <?= $lang === 'en' ? 'Learn more' : '暸解更多' ?>
    </a>
  </div>
</div>
<?php endif; ?>
